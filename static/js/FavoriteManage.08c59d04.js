(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FavoriteManage"],{2298:function(e,t,i){},3313:function(e,t,i){},"4f71":function(e,t,i){"use strict";i.r(t);var n=i("7a23");function o(e,t,i,o,c,a){var r=Object(n["resolveComponent"])("van-tab"),s=Object(n["resolveComponent"])("van-tabs"),l=Object(n["resolveComponent"])("van-nav-bar"),u=Object(n["resolveComponent"])("van-action-sheet");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{"left-text":"","left-arrow":"",onClickLeft:t[1]||(t[1]=function(t){return e.$f.goBack()}),fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2"},{title:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{class:"tab-top",active:c.active,"onUpdate:active":t[0]||(t[0]=function(e){return c.active=e}),type:"card",color:"#fff",background:"#2C3254","title-active-color":"#878FBC","title-inactive-color":"#878FBC"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{title:e.$t("favoriteManage"),name:"1",replace:"",to:{name:"FavoriteManage",params:{type:e.$route.params.type||"1",id:"1"}}},null,8,["title","to"]),Object(n["createVNode"])(r,{title:e.$t("groupManage"),name:"2",replace:"",to:{name:"FavoriteManage",params:{type:e.$route.params.type||"1",id:"2"}}},null,8,["title","to"])]})),_:1},8,["active"])]})),_:1}),(Object(n["openBlock"])(),Object(n["createBlock"])(Object(n["resolveDynamicComponent"])(a.curComponent))),Object(n["createVNode"])(u,{show:c.show,"onUpdate:show":t[2]||(t[2]=function(e){return c.show=e}),actions:c.actions,"cancel-text":e.$t("cancel"),onSelect:a.select,"close-on-click-action":""},null,8,["show","actions","cancel-text","onSelect"])],64)}i("b0c0"),i("ac1f"),i("5319"),i("99af");var c={key:0},a={class:"fav-tabs-container"},r={class:"table-list"},s={class:"table-item table-header"},l={class:"table-item_d"},u={class:"table-item_d"},d={class:"table-item_d"},f={class:"table-item_d"},b={class:"token-info table-item_d"},m={class:"icon-token-container"},v=["src"],p={class:"token-symbol"},h={class:"table-item_d"},g=["onClick"],j={class:"table-item_d token-sort"},O=["onClick"],k=["onClick"],y=["onClick"],$={class:"table-item_d"},N=["onClick"],C={key:1},V={class:"add-text"},E={class:"table-list"},w={class:"table-item table-header"},F={class:"table-item_d"},G={class:"table-item_d"},S={class:"table-item_d"},_={class:"table-item_d"},x={class:"table-item_d"},L={class:"table-item_d"},U=["onClick"],B={class:"table-item_d"},D=["onClick"],T=["onClick"],R=["onClick"],M={class:"table-item_d"},z=["onClick"];function I(e,t,o,I,P,q){var A=Object(n["resolveComponent"])("van-tab"),H=Object(n["resolveComponent"])("van-tabs"),J=Object(n["resolveComponent"])("van-image"),K=Object(n["resolveComponent"])("van-list"),Q=Object(n["resolveComponent"])("van-empty"),W=Object(n["resolveComponent"])("van-icon"),X=Object(n["resolveComponent"])("van-cell"),Y=Object(n["resolveComponent"])("ChangeGroup"),Z=Object(n["resolveComponent"])("ChangeName"),ee=Object(n["resolveComponent"])("EditRemark"),te=Object(n["resolveComponent"])("van-action-sheet");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,["1"===q.active?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",c,[Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(H,{class:"fav-tabs",active:P.activeGroup,"onUpdate:active":t[0]||(t[0]=function(e){return P.activeGroup=e}),border:"",color:"#558BED",ellipsis:!1,background:"transparent"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(A,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(q.groups,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(A,{key:t,title:e.name,name:e.group_id},null,8,["title","name"])})),128))]})),_:1},8,["active"])]),Object(n["createElementVNode"])("ul",r,[Object(n["createElementVNode"])("li",s,[Object(n["createElementVNode"])("div",l,Object(n["toDisplayString"])(e.$t("token")),1),Object(n["createElementVNode"])("div",u,Object(n["toDisplayString"])(e.$t("changeGroup")),1),Object(n["createElementVNode"])("div",d,Object(n["toDisplayString"])(e.$t("sort")),1),Object(n["createElementVNode"])("div",f,Object(n["toDisplayString"])(e.$t("remark")),1)]),Object(n["createVNode"])(K,{loading:P.listLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return P.listLoading=e}),error:P.listError,"onUpdate:error":t[2]||(t[2]=function(e){return P.listError=e}),finished:P.finished,"finished-text":e.$t("noMore"),"error-text":e.$t("errorText"),"loading-text":e.$t("loading"),onLoad:q.onLoad,offset:"100","immediate-check":!1},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(P.favoritesList,(function(t,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t.id,class:"table-item"},[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",m,[(Object(n["openBlock"])(),Object(n["createBlock"])(J,{key:t.token+t.chain,round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(t),"error-icon":i("aeccf")},null,8,["src","error-icon"])),t.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(t.chain,".png"),alt:"",srcset:""},null,8,v)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",p,Object(n["toDisplayString"])(t.symbol),1)]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("i",{class:"iconfont icon-tiaozhengzu",onClick:Object(n["withModifiers"])((function(e){return q.switchGroup(t)}),["stop"])},null,8,g)]),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-zhiding",{disabled:0===o}]),onClick:Object(n["withModifiers"])((function(e){return q.tokenSetTop(t,o)}),["stop"])},null,10,O),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-shangyi",{disabled:0===o}]),onClick:Object(n["withModifiers"])((function(e){return q.changeFavoritesIndex(t,o,-1)}),["stop"])},null,10,k),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-xiayi",{disabled:o+1===P.favoritesList.length}]),onClick:Object(n["withModifiers"])((function(e){return q.changeFavoritesIndex(t,o,1)}),["stop"])},null,10,y)]),Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("i",{class:"iconfont icon-zhongmingming",onClick:Object(n["withModifiers"])((function(e){return q.handleEditRemark(t)}),["stop"])},null,8,N)])])})),128))]})),_:1},8,["loading","error","finished","finished-text","error-text","loading-text","onLoad"]),Object(n["withDirectives"])(Object(n["createVNode"])(Q,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[n["vShow"],P.favoritesList&&0===P.favoritesList.length||!q.groups]])])])):"2"===q.active?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",C,[Object(n["createVNode"])(X,{title:"",onClick:t[3]||(t[3]=function(e){return P.visible2=!0}),clickable:""},{value:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(W,{class:"icon-add-o",name:"add-o"}),Object(n["createElementVNode"])("span",V,Object(n["toDisplayString"])(e.$t("newGroup")),1)]})),_:1}),Object(n["createElementVNode"])("ul",E,[Object(n["createElementVNode"])("li",w,[Object(n["createElementVNode"])("div",F,Object(n["toDisplayString"])(e.$t("groupName")),1),Object(n["createElementVNode"])("div",G,Object(n["toDisplayString"])(e.$t("rename")),1),Object(n["createElementVNode"])("div",S,Object(n["toDisplayString"])(e.$t("sort")),1),Object(n["createElementVNode"])("div",_,Object(n["toDisplayString"])(e.$t("operate")),1)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(q.groups,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t,class:"table-item"},[Object(n["createElementVNode"])("div",x,Object(n["toDisplayString"])(e.name),1),Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("i",{class:"iconfont icon-zhongmingming",onClick:Object(n["withModifiers"])((function(t){return q.rename(e)}),["stop"])},null,8,U)]),Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-zhiding",{disabled:0===t}]),onClick:Object(n["withModifiers"])((function(i){return q.setTopFavoriteGroup(e,t)}),["stop"])},null,10,D),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-shangyi",{disabled:0===t}]),onClick:Object(n["withModifiers"])((function(i){return q.changeIndexFavoriteGroup(e,t,-1)}),["stop"])},null,10,T),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-xiayi",{disabled:t+1===q.groups.length}]),onClick:Object(n["withModifiers"])((function(i){return q.changeIndexFavoriteGroup(e,t,1)}),["stop"])},null,10,R)]),Object(n["createElementVNode"])("div",M,[Object(n["createElementVNode"])("i",{class:"iconfont icon-ashbin",onClick:Object(n["withModifiers"])((function(t){return q.removeFavoriteGroup(e)}),["stop"])},null,8,z)])])})),128)),Object(n["withDirectives"])(Object(n["createVNode"])(Q,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[n["vShow"],q.groups&&0===q.groups.length||!q.groups]])])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(Y,{visible:P.visible1,"onUpdate:visible":t[4]||(t[4]=function(e){return P.visible1=e}),selected:P.activeGroup,"onUpdate:selected":t[5]||(t[5]=function(e){return P.activeGroup=e}),title:e.$t("pleaseSelectGroup"),groups:q.groups,onSelect:q.confirmSwitchGroup},null,8,["visible","selected","title","groups","onSelect"]),Object(n["createVNode"])(Z,{visible:P.visible2,"onUpdate:visible":t[6]||(t[6]=function(e){return P.visible2=e}),confirmSubmit:q.addFavoriteGroup},null,8,["visible","confirmSubmit"]),Object(n["createVNode"])(Z,{visible:P.visible3,"onUpdate:visible":t[7]||(t[7]=function(e){return P.visible3=e}),confirmSubmit:q.changeFavoriteGroupName},null,8,["visible","confirmSubmit"]),Object(n["createVNode"])(ee,{visible:P.visible4,"onUpdate:visible":t[8]||(t[8]=function(e){return P.visible4=e}),initRemark:P.curRemark,confirmSubmit:q.confirmEditRemark},null,8,["visible","initRemark","confirmSubmit"]),Object(n["createVNode"])(te,{show:P.show,"onUpdate:show":t[9]||(t[9]=function(e){return P.show=e}),actions:P.actions,"cancel-text":e.$t("cancel"),onSelect:q.select,"close-on-click-action":""},null,8,["show","actions","cancel-text","onSelect"])],64)}var P=i("2909"),q=i("5530"),A=i("1da1"),H=(i("96cf"),i("d81d"),i("d3b7"),i("c3ff")),J=i("f643"),K=i("8363"),Q=i("365c"),W={name:"TokenFavoriteManage",components:{ChangeGroup:H["a"],ChangeName:J["a"],EditRemark:K["a"]},data:function(){return{activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},show:!1,actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{},listLoading:!1,listError:!1,finished:!1,currentPage:1,pageSize:20}},computed:{groups:function(){return this.$store.state.userFavoriteGroups},active:function(){var e;return(null===(e=this.$route.params)||void 0===e?void 0:e.id)||"1"}},watch:{"$route.params.type":function(e){"1"===e&&this.getUserFavorites()},activeGroup:function(){this.resetList(),this.getUserFavorites(1)},groups:{handler:function(){this.activeGroup=0},deep:!0},"$store.state.currentAccount":function(e){e&&this.getUserFavorites()}},created:function(){this.getUserFavorites()},methods:{init:function(){this.getUserFavorites()},getUserFavorites:function(){var e=arguments,t=this;return Object(A["a"])(regeneratorRuntime.mark((function i(){var n,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,i.prev=1,o=[],i.prev=3,i.next=6,Object(Q["xb"])(t.activeGroup,n);case 6:o=i.sent,t.listError=!1,i.next=15;break;case 10:return i.prev=10,i.t0=i["catch"](3),t.favoritesList=[],t.listError=!0,i.abrupt("return");case 15:if(1!==n||0!==o.length){i.next=17;break}return i.abrupt("return");case 17:c=o.map((function(e){return Object(q["a"])(Object(q["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:null!==e&&void 0!==e&&e.price_change?(null===e||void 0===e?void 0:e.price_change)/100:0,priceUSD:(null===e||void 0===e?void 0:e.current_price_usd)||0})})),t.favoritesList=1===n?c:[].concat(Object(P["a"])(t.favoritesList),Object(P["a"])(c)),t.finished=0===c.length,i.next=26;break;case 22:i.prev=22,i.t1=i["catch"](1),t.finished=!0,t.listError=!0;case 26:t.listLoading=!1;case 27:case"end":return i.stop()}}),i,null,[[1,22],[3,10]])})))()},onLoad:function(){this.listLoading=!0,this.getUserFavorites(this.currentPage+1),this.currentPage++},resetList:function(){this.currentPage=1,this.finished=!1,this.listLoading=!1,this.listError=!1,this.favoritesList=[]},switchGroup:function(e){this.selectedToken=e,this.visible1=!0},tokenSetTop:function(e,t){var i=this;if(0!==t){var n=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["q"])(e.token+"-"+e.chain,this.activeGroup).then((function(e){e?(i.getUserFavorites(),i.$notify({type:"success",message:i.$t("success")})):i.$notify({type:"danger",message:i.$t("fail")})})).catch((function(){i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){n.clear()}))}},changeFavoritesIndex:function(e,t,i){var n=this;if(this.$f.verifyLogin()){var o=e.token+"-"+e.chain,c=t+i;if(!(c<0||c+1>this.favoritesList.length)){var a=this.favoritesList[c],r=a.token+"-"+a.chain,s=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["p"])(o,r,this.activeGroup).then((function(){n.getUserFavorites(),n.$notify({type:"success",message:n.$t("success")})})).catch((function(e){n.$notify({type:"danger",message:n.$t("fail")})})).finally((function(){s.clear()}))}}},confirmSwitchGroup:function(e){var t=this;if(this.$f.verifyLogin())if(this.activeGroup!==e){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["od"])(this.selectedToken.token+"-"+this.selectedToken.chain,e).then((function(){t.getUserFavorites(),t.$store.dispatch("getUserFavorites"),t.$notify({type:"success",message:t.$t("success")}),t.visible1=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}else this.visible1=!1},addFavoriteGroup:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["d"])(e).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.$notify({type:"success",message:t.$t("success")}),t.visible2=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}},removeFavoriteGroup:function(e){var t=this;this.$f.verifyLogin()&&this.$dialog.confirm({message:this.$t("removeFavGroupTips"),confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel")}).then((function(){var i=t.$toast.loading({forbidClick:!0,duration:0});Object(Q["td"])(e.group_id).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.getUserFavorites(),t.$notify({type:"success",message:t.$t("success")}),t.visible2=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))})).catch((function(){}))},setTopFavoriteGroup:function(e,t){var i=this;if(this.$f.verifyLogin()&&0!==t){var n=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["Hd"])(e.group_id).then((function(e){e?(i.$store.dispatch("getUserFavoriteGroups"),i.$notify({type:"success",message:i.$t("success")})):i.$notify({type:"danger",message:i.$t("fail")})})).catch((function(){i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){n.clear()}))}},changeIndexFavoriteGroup:function(e,t,i){var n=this;if(this.$f.verifyLogin()){var o=e.group_id,c=t+i;if(!(c<0||c+1>this.groups.length)){var a=this.groups[c],r=a.group_id,s=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["r"])(o,r).then((function(){n.$store.dispatch("getUserFavoriteGroups"),n.visible3=!1,n.$notify({type:"success",message:n.$t("success")})})).catch((function(e){n.$notify({type:"danger",message:n.$t("fail")})})).finally((function(){s.clear()}))}}},rename:function(e){this.curGroup=e,this.visible3=!0},changeFavoriteGroupName:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["o"])(e,this.curGroup.group_id).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.visible3=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}},select:function(e){var t;this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:(null===(t=this.$route.params)||void 0===t?void 0:t.id)||"1"}})},handleEditRemark:function(e){this.curRemark=e.remark||"",this.curToken=e,this.visible4=!0},confirmEditRemark:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0}),n=this.curToken.token+"-"+this.curToken.chain;Object(Q["E"])(n,e).then((function(){t.getUserFavorites(),t.visible4=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}}}},X=(i("e257"),i("6b0d")),Y=i.n(X);const Z=Y()(W,[["render",I],["__scopeId","data-v-e18d9fb6"]]);var ee=Z,te={key:0},ie={class:"fav-tabs-container"},ne={class:"table-list"},oe={class:"table-item table-header"},ce={class:"table-item_d"},ae={class:"table-item_d"},re={class:"table-item_d"},se={class:"table-item_d"},le={class:"table-item"},ue={class:"token-info table-item_d"},de={class:"icon-token-container"},fe={class:"token-symbol"},be={class:"table-item_d"},me=["onClick"],ve={class:"table-item_d token-sort"},pe=["onClick"],he=["onClick"],ge=["onClick"],je={class:"table-item_d"},Oe=["onClick"],ke={key:1},ye={class:"add-text"},$e={class:"table-list"},Ne={class:"table-item table-header"},Ce={class:"table-item_d"},Ve={class:"table-item_d"},Ee={class:"table-item_d"},we={class:"table-item_d"},Fe={class:"table-item_d"},Ge={class:"table-item_d"},Se=["onClick"],_e={class:"table-item_d"},xe=["onClick"],Le=["onClick"],Ue=["onClick"],Be={class:"table-item_d"},De=["onClick"];function Te(e,t,o,c,a,r){var s,l=Object(n["resolveComponent"])("van-tab"),u=Object(n["resolveComponent"])("van-tabs"),d=Object(n["resolveComponent"])("van-image"),f=Object(n["resolveComponent"])("DynamicScrollerItem"),b=Object(n["resolveComponent"])("DynamicScroller"),m=Object(n["resolveComponent"])("van-empty"),v=Object(n["resolveComponent"])("van-icon"),p=Object(n["resolveComponent"])("van-cell"),h=Object(n["resolveComponent"])("ChangeGroup"),g=Object(n["resolveComponent"])("ChangeName"),j=Object(n["resolveComponent"])("EditRemark");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,["1"===r.active?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",te,[Object(n["createElementVNode"])("div",ie,[Object(n["createVNode"])(u,{class:"fav-tabs",active:a.activeGroup,"onUpdate:active":t[0]||(t[0]=function(e){return a.activeGroup=e}),border:"",color:"#558BED",ellipsis:!1,background:"transparent"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.groups,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:t,title:e.name,name:e.group_id},null,8,["title","name"])})),128))]})),_:1},8,["active"])]),Object(n["createElementVNode"])("ul",ne,[Object(n["createElementVNode"])("li",oe,[Object(n["createElementVNode"])("div",ce,Object(n["toDisplayString"])(e.$t("token")),1),Object(n["createElementVNode"])("div",ae,Object(n["toDisplayString"])(e.$t("changeGroup")),1),Object(n["createElementVNode"])("div",re,Object(n["toDisplayString"])(e.$t("sort")),1),Object(n["createElementVNode"])("div",se,Object(n["toDisplayString"])(e.$t("remark")),1)]),(null===(s=a.favoritesList)||void 0===s?void 0:s.length)>0?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,items:a.favoritesList,"min-item-size":30,keyField:"id","page-mode":"",class:"scroller"},{default:Object(n["withCtx"])((function(e){var t=e.item,o=e.index,c=e.active;return[Object(n["createVNode"])(f,{item:t,active:c,"data-index":o},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("li",le,[Object(n["createElementVNode"])("div",ue,[Object(n["createElementVNode"])("div",de,[Object(n["createVNode"])(d,{round:"",width:"0.72rem",height:"0.72rem","icon-size":"0.72rem","lazy-load":"","show-loading":"",src:null===t||void 0===t?void 0:t.logo,"error-icon":i("aeccf")},null,8,["src","error-icon"])]),Object(n["createElementVNode"])("span",fe,Object(n["toDisplayString"])((null===t||void 0===t?void 0:t.name)||""),1)]),Object(n["createElementVNode"])("div",be,[Object(n["createElementVNode"])("i",{class:"iconfont icon-tiaozhengzu",onClick:Object(n["withModifiers"])((function(e){return r.switchGroup(t)}),["stop"])},null,8,me)]),Object(n["createElementVNode"])("div",ve,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-zhiding",{disabled:0===o}]),onClick:Object(n["withModifiers"])((function(e){return r.tokenSetTop(t,o)}),["stop"])},null,10,pe),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-shangyi",{disabled:0===o}]),onClick:Object(n["withModifiers"])((function(e){return r.changeNftFavoritesIndex(t,o,-1)}),["stop"])},null,10,he),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-xiayi",{disabled:o+1===a.favoritesList.length}]),onClick:Object(n["withModifiers"])((function(e){return r.changeNftFavoritesIndex(t,o,1)}),["stop"])},null,10,ge)]),Object(n["createElementVNode"])("div",je,[Object(n["createElementVNode"])("i",{class:"iconfont icon-zhongmingming",onClick:Object(n["withModifiers"])((function(e){return r.handleEditRemark(t)}),["stop"])},null,8,Oe)])])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createVNode"])(m,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[n["vShow"],a.favoritesList&&0===a.favoritesList.length||!r.groups]])])])):"2"===r.active?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",ke,[Object(n["createVNode"])(p,{title:"",onClick:t[1]||(t[1]=function(e){return a.visible2=!0}),clickable:""},{value:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{class:"icon-add-o",name:"add-o"}),Object(n["createElementVNode"])("span",ye,Object(n["toDisplayString"])(e.$t("newGroup")),1)]})),_:1}),Object(n["createElementVNode"])("ul",$e,[Object(n["createElementVNode"])("li",Ne,[Object(n["createElementVNode"])("div",Ce,Object(n["toDisplayString"])(e.$t("groupName")),1),Object(n["createElementVNode"])("div",Ve,Object(n["toDisplayString"])(e.$t("rename")),1),Object(n["createElementVNode"])("div",Ee,Object(n["toDisplayString"])(e.$t("sort")),1),Object(n["createElementVNode"])("div",we,Object(n["toDisplayString"])(e.$t("operate")),1)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.groups,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:t,class:"table-item"},[Object(n["createElementVNode"])("div",Fe,Object(n["toDisplayString"])(e.name),1),Object(n["createElementVNode"])("div",Ge,[Object(n["createElementVNode"])("i",{class:"iconfont icon-zhongmingming",onClick:Object(n["withModifiers"])((function(t){return r.rename(e)}),["stop"])},null,8,Se)]),Object(n["createElementVNode"])("div",_e,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-zhiding",{disabled:0===t}]),onClick:Object(n["withModifiers"])((function(i){return r.setTopNftFavoriteGroup(e,t)}),["stop"])},null,10,xe),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-shangyi",{disabled:0===t}]),onClick:Object(n["withModifiers"])((function(i){return r.changeIndexNftFavoriteGroup(e,t,-1)}),["stop"])},null,10,Le),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["iconfont icon-xiayi",{disabled:t+1===r.groups.length}]),onClick:Object(n["withModifiers"])((function(i){return r.changeIndexNftFavoriteGroup(e,t,1)}),["stop"])},null,10,Ue)]),Object(n["createElementVNode"])("div",Be,[Object(n["createElementVNode"])("i",{class:"iconfont icon-ashbin",onClick:Object(n["withModifiers"])((function(t){return r.removeNftFavoriteGroup(e)}),["stop"])},null,8,De)])])})),128)),Object(n["withDirectives"])(Object(n["createVNode"])(m,{class:"empty",image:e.emptyNoDataLight,description:e.$t("emptyData")},null,8,["image","description"]),[[n["vShow"],r.groups&&0===r.groups.length||!r.groups]])])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(h,{visible:a.visible1,"onUpdate:visible":t[2]||(t[2]=function(e){return a.visible1=e}),selected:a.activeGroup,"onUpdate:selected":t[3]||(t[3]=function(e){return a.activeGroup=e}),title:e.$t("pleaseSelectGroup"),groups:r.groups,onSelect:r.confirmSwitchGroup},null,8,["visible","selected","title","groups","onSelect"]),Object(n["createVNode"])(g,{visible:a.visible2,"onUpdate:visible":t[4]||(t[4]=function(e){return a.visible2=e}),confirmSubmit:r.addNftFavoriteGroup},null,8,["visible","confirmSubmit"]),Object(n["createVNode"])(g,{visible:a.visible3,"onUpdate:visible":t[5]||(t[5]=function(e){return a.visible3=e}),confirmSubmit:r.changeNftFavoriteGroupName},null,8,["visible","confirmSubmit"]),Object(n["createVNode"])(j,{visible:a.visible4,"onUpdate:visible":t[6]||(t[6]=function(e){return a.visible4=e}),initRemark:a.curRemark,confirmSubmit:r.confirmEditRemark},null,8,["visible","initRemark","confirmSubmit"])],64)}var Re={name:"NftFavoriteManage",components:{ChangeGroup:H["a"],ChangeName:J["a"],EditRemark:K["a"]},data:function(){return{activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},show:!1,actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{}}},computed:{groups:function(){return this.$store.state.userNftFavoriteGroups},active:function(){return this.$route.params.id||"1"},activeName:function(){var e={1:"Token",2:"NFT"};return(null===e||void 0===e?void 0:e[this.$route.params.type])||"Token"}},watch:{"$route.params.type":function(e){"2"===e&&this.getUserFavorites()},activeGroup:function(){this.getUserFavorites()},groups:{handler:function(){this.activeGroup=0},deep:!0},"$store.state.currentAccount":function(e){e&&this.getUserFavorites()}},created:function(){this.getUserFavorites()},methods:{init:function(){this.getUserFavorites()},getUserFavorites:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Q["Rb"])(e.activeGroup).catch(Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))));case 2:e.favoritesList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},switchGroup:function(e){this.selectedToken=e,this.visible1=!0},tokenSetTop:function(e,t){var i=this;if(0!==t){var n=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["v"])(e.id,this.activeGroup).then((function(e){e?(i.getUserFavorites(),i.$notify({type:"success",message:i.$t("success")})):i.$notify({type:"danger",message:i.$t("fail")})})).catch((function(){i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){n.clear()}))}},changeNftFavoritesIndex:function(e,t,i){var n=this;if(this.$f.verifyLogin()){var o=e.id,c=t+i;if(!(c<0||c+1>this.favoritesList.length)){var a=this.favoritesList[c],r=a.id,s=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["u"])(o,r,this.activeGroup).then((function(){n.getUserFavorites(),n.$notify({type:"success",message:n.$t("success")})})).catch((function(e){n.$notify({type:"danger",message:n.$t("fail")})})).finally((function(){s.clear()}))}}},confirmSwitchGroup:function(e){var t=this;if(this.$f.verifyLogin())if(this.activeGroup!==e){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["pd"])(this.selectedToken.id,e).then((function(){t.getUserFavorites(),t.$store.dispatch("getUserFavorites"),t.$notify({type:"success",message:t.$t("success")}),t.visible1=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}else this.visible1=!1},addNftFavoriteGroup:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["f"])(e).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.$notify({type:"success",message:t.$t("success")}),t.visible2=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}},removeNftFavoriteGroup:function(e){var t=this;this.$f.verifyLogin()&&this.$dialog.confirm({message:this.$t("removeFavGroupTips"),confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel")}).then((function(){var i=t.$toast.loading({forbidClick:!0,duration:0});Object(Q["xd"])(e.group_id).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.getUserFavorites(),t.$notify({type:"success",message:t.$t("success")}),t.visible2=!1})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))})).catch((function(){}))},setTopNftFavoriteGroup:function(e,t){var i=this;if(this.$f.verifyLogin()&&0!==t){var n=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["Id"])(e.group_id).then((function(e){e?(i.$store.dispatch("getUserFavoriteGroups"),i.$notify({type:"success",message:i.$t("success")})):i.$notify({type:"danger",message:i.$t("fail")})})).catch((function(){i.$notify({type:"danger",message:i.$t("fail")})})).finally((function(){n.clear()}))}},changeIndexNftFavoriteGroup:function(e,t,i){var n=this;if(this.$f.verifyLogin()){var o=e.group_id,c=t+i;if(!(c<0||c+1>this.groups.length)){var a=this.groups[c],r=a.group_id,s=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["s"])(o,r).then((function(){n.$store.dispatch("getUserFavoriteGroups"),n.visible3=!1,n.$notify({type:"success",message:n.$t("success")})})).catch((function(e){n.$notify({type:"danger",message:n.$t("fail")})})).finally((function(){s.clear()}))}}},rename:function(e){this.curGroup=e,this.visible3=!0},changeNftFavoriteGroupName:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["t"])(e,this.curGroup.group_id).then((function(){t.$store.dispatch("getUserFavoriteGroups"),t.visible3=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}},select:function(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})},handleEditRemark:function(e){this.curRemark=e.remark||"",this.curToken=e,this.visible4=!0},confirmEditRemark:function(e){var t=this;if(this.$f.verifyLogin()){var i=this.$toast.loading({forbidClick:!0,duration:0});Object(Q["D"])(this.curToken.id,e).then((function(){t.getUserFavorites(),t.visible4=!1,t.$notify({type:"success",message:t.$t("success")})})).catch((function(e){t.$notify({type:"danger",message:t.$t("fail")})})).finally((function(){i.clear()}))}}}};i("a771");const Me=Y()(Re,[["render",Te],["__scopeId","data-v-8e5108f2"]]);var ze=Me,Ie={name:"FavoriteManage",data:function(){return{active:this.$route.params.id||"1",show:!1,actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}]}},computed:{curComponent:function(){return"2"===this.$route.params.type?ze:ee},activeName:function(){var e={1:"Token",2:"NFT"};return(null===e||void 0===e?void 0:e[this.$route.params.type])||"Token"}},watch:{$route:function(e){"FavoriteManage"===e.name&&(this.active=this.$route.params.id||"1")}},methods:{select:function(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})}}};i("a64d");const Pe=Y()(Ie,[["render",o],["__scopeId","data-v-caa0f2fa"]]);t["default"]=Pe},"565e":function(e,t,i){},8363:function(e,t,i){"use strict";var n=i("7a23"),o={class:"popup-title"},c={class:"footer"};function a(e,t,i,a,r,s){var l=Object(n["resolveComponent"])("van-field"),u=Object(n["resolveComponent"])("van-button"),d=Object(n["resolveComponent"])("van-form"),f=Object(n["resolveComponent"])("van-popup");return Object(n["openBlock"])(),Object(n["createBlock"])(f,{show:s.dialogVisible,"onUpdate:show":t[2]||(t[2]=function(e){return s.dialogVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%",minHeight:"5rem"}},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("h3",o,Object(n["toDisplayString"])(e.$t("editRemark")),1),Object(n["createVNode"])(d,{class:"popup-content",onSubmit:s.onSubmit},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.title=e}),label:"",placeholder:e.$t("maximum50characters"),clearable:"",rules:r.rules},null,8,["modelValue","placeholder","rules"]),Object(n["createElementVNode"])("div",c,[Object(n["createVNode"])(u,{class:"btn",type:"default",round:"",onClick:t[1]||(t[1]=function(e){return s.dialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("cancel")),1)]})),_:1}),Object(n["createVNode"])(u,{class:"btn","native-type":"submit",type:"primary",round:""},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])}var r={name:"EditRemark",props:{visible:Boolean,confirmSubmit:Function,initRemark:String},emits:["update:visible","onSubmit"],data:function(){var e=function(e){return(null===e||void 0===e?void 0:e.length)<=50};return{title:this.initRemark||"",rules:[{required:!1,message:this.$t("enterRemark")},{validator:e,message:this.$t("maximum50characters")}]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{visible:function(e){e&&(this.title=this.initRemark||"")}},methods:{onSubmit:function(){this.confirmSubmit(this.title)}}},s=(i("a70d"),i("6b0d")),l=i.n(s);const u=l()(r,[["render",a],["__scopeId","data-v-209dff29"]]);t["a"]=u},"9cac":function(e,t,i){},a64d:function(e,t,i){"use strict";i("9cac")},a70d:function(e,t,i){"use strict";i("2298")},a771:function(e,t,i){"use strict";i("565e")},e257:function(e,t,i){"use strict";i("3313")}}]);